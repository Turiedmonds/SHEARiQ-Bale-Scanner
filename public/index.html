<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>SHEΔR iQ Bale Scanner</title>
  <meta name="theme-color" content="#FFD700" />

  <link rel="manifest" href="manifest.json" />
  <link rel="apple-touch-icon" href="icon-192.png" />
  <link rel="stylesheet" href="styles.css" />

  <!-- QR scanner library -->
  <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.js"></script>

  <!-- Firebase SDKs (compat version, matches your other apps) -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>

  <!-- Your Firebase config + app code -->
  <script src="config.js"></script>
  <script src="app.js"></script>
</head>
<body>
  <img
    src="logo.png"
    alt="SHEΔR iQ Logo"
    style="max-width: 200px; display: block; margin: 1rem auto;"
  />

  <div style="text-align: right; margin: 0 1rem -0.5rem 0;"></div>

  <div class="scanner-header" style="text-align: center; margin-bottom: 1rem;">
    <h1 style="margin: 0; font-size: 1.8rem;">Bale Scanner</h1>
  </div>

  <button class="new-day-button">New Farm/Day</button>

  <div style="position: absolute; top: 10px; right: 10px;">
    <button id="resetAllButton">Reset All</button>
  </div>

  <label>
    Farm/Station Name:
    <input id="station" type="text" />
  </label>
  <br />

  <label>
    Wool Presser:
    <input id="presser" type="text" />
  </label>
  <br />

  <label>
    Start Bale Number:
    <input id="startBale" type="number" value="1" />
  </label>

  <button id="setStartButton">Set Start Number</button>
  <button id="resetFarmButton">Reset This Farm Only</button>

  <p id="currentBaleDisplay">Current Bale: 0</p>
  <p id="lastBaleNumberDisplay">Last Bale #: 0</p>
  <p id="todayCountDisplay">Today's Bale Count: 0</p>

  <div id="scanBox">
    <button id="startScanBtn">Start QR Scan</button>
    <button id="manualEntryButton">Manual Entry</button>
  </div>

  <button id="exportButton">End of Day</button>
  <button id="deleteLastButton">Delete Last Entry</button>
  <button id="editTableButton">Edit Table</button>

  <h2 style="margin-top: 30px;">Bale Log</h2>
  <table id="logTable">
    <thead>
      <tr>
        <th>#</th>
        <th>Wool Type</th>
        <th>Presser</th>
        <th>Farm</th>
        <th>Timestamp</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <!-- Wool Type Totals Table -->
  <h2 style="margin-top: 30px;">Wool Type Totals</h2>
  <table
    id="woolTypeTotals"
    border="1"
    style="width: 100%; margin-bottom: 20px;"
  >
    <thead>
      <tr>
        <th>Wool Type</th>
        <th>Total Bales</th>
      </tr>
    </thead>
    <tbody>
      <!-- Totals will be inserted here dynamically -->
    </tbody>
  </table>

  <audio id="beepSound" preload="auto">
    <source
      src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg"
      type="audio/ogg"
    />
  </audio>
</body>
</html>
